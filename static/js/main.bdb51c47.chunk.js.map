{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","services/services.js","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Searchbar/Searchbar.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","API_KEY","BASE_URL","getGallery","value","page","items","fetch","then","res","ok","json","Promise","reject","Error","ImageGalleryItem","img","alt","onImgClick","className","st","onClick","src","ImageGalleryItemImage","ImageGallery","gallery","map","id","previewURL","largeImageURL","tags","Searchbar","state","handleInputChange","e","currentTarget","toast","error","autoClose","setState","handleSubmit","preventDefault","trim","props","onFormSubmit","toLowerCase","SearchForm","onSubmit","this","SearchFormInput","type","onChange","autoComplete","autoFocus","placeholder","Button","Label","Component","onButtonClick","modalRoot","document","getElementById","Modal","handleKeyDown","code","onClose","handleModalClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Spinner","Loader","color","height","width","App","searchQuery","largeImgAlt","largeImgURL","isLoading","showModal","handleChangeQuery","data","handleImgClick","bigImg","toggleModal","fetchImg","hits","length","catch","message","finally","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","console","log","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bdb51c47.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__VPBD0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3sKCK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__HOrbw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__xrN1S\"};","const API_KEY = '20666088-0fcbaa9dff33f5180232b13ab';\nconst BASE_URL = 'https://pixabay.com';\n\nexport const getGallery = (value, page = 1, items = 12) => {\n  return fetch(\n    `${BASE_URL}/api/?q=${value}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${items}`,\n  ).then(res => {\n    if (res.ok) return res.json();\n\n    return Promise.reject(\n      new Error(\n        'Unfortunately, we ran out of images at your request. Please make another request ',\n      ),\n    );\n  });\n};\n\nexport const scroll = () => {\n  return window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n};\n","import st from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ img, alt, onImgClick }) => {\n  return (\n    <li className={st.ImageGalleryItem} onClick={onImgClick}>\n      <img src={img} alt={alt} className={st.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  img: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nimport st from './ImageGallery.module.css';\n\nconst ImageGallery = ({ gallery, onImgClick }) => {\n  return (\n    <ul className={st.ImageGallery}>\n      {gallery.map(({ id, previewURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          img={previewURL}\n          alt={tags}\n          onImgClick={() => onImgClick(largeImageURL)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { toast } from 'react-toastify';\n\nimport st from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { value: '' };\n\n  handleInputChange = e => {\n    if (e.currentTarget.value === this.state.value) {\n      return toast.error('–°–¥–µ–ª–∞–π—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å üòÉ', { autoClose: 3000 });\n    }\n\n    this.setState({ value: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.value.trim() === '') {\n      return toast.error('–°–¥–µ–ª–∞–π—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å üòÉ', { autoClose: 3000 });\n    }\n\n    this.props.onFormSubmit(this.state.value.toLowerCase());\n  };\n\n  render() {\n    return (\n      <header className={st.Searchbar}>\n        <form className={st.SearchForm} onSubmit={this.handleSubmit}>\n          <input\n            className={st.SearchFormInput}\n            type=\"text\"\n            value={this.state.value}\n            onChange={this.handleInputChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n\n          <button className={st.Button} type=\"submit\">\n            <span className={st.Label}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import st from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onButtonClick }) => {\n  return (\n    <button type=\"button\" className={st.Button} onClick={onButtonClick}>\n      <span className={st.Label}>Load more</span>\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onButtonClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport st from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleModalClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={st.Overlay} onClick={this.handleModalClick}>\n        <div className={st.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Modal;\n","import Loader from 'react-loader-spinner';\nimport st from './Loader.module.css';\n\nconst Spinner = () => {\n  return (\n    <div className={st.Loader}>\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={70} width={100} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { getGallery, scroll } from './services/services';\n\nimport ImageGallery from './Components/ImageGallery';\nimport Searchbar from './Components/Searchbar';\nimport Button from './Components/Button';\nimport Modal from './Components/Modal';\nimport Spinner from './Components/Loader';\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    searchQuery: '',\n    page: 1,\n    largeImgAlt: '',\n    largeImgURL: '',\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImg();\n    }\n    if (this.state.gallery.length > 0) {\n      scroll();\n    }\n  }\n\n  handleChangeQuery = data => {\n    this.setState({ searchQuery: data, page: 1, gallery: [], largeImgAlt: '' });\n  };\n\n  handleImgClick = bigImg => {\n    this.setState({ largeImgURL: bigImg });\n\n    this.toggleModal();\n  };\n\n  fetchImg = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    getGallery(searchQuery, page)\n      .then(({ hits }) => {\n        hits.length === 0\n          ? toast.error(\n              'there is no match for your query, please specify your query.',\n            )\n          : this.setState(({ gallery, page }) => ({\n              gallery: [...gallery, ...hits],\n              page: page + 1,\n            }));\n      })\n      .catch(error => toast.error(error.message, { autoClose: 3000 }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    console.log('render');\n    const { gallery, isLoading, showModal, largeImgURL, largeImgAlt } =\n      this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onFormSubmit={this.handleChangeQuery} />\n        <ImageGallery gallery={gallery} onImgClick={this.handleImgClick} />\n\n        {gallery.length > 0 && !isLoading && (\n          <Button onButtonClick={this.fetchImg} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImgURL} alt={largeImgAlt} width=\"960\" />\n          </Modal>\n        )}\n\n        {isLoading && <Spinner />}\n\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3YYEG\",\"SearchForm\":\"Searchbar_SearchForm__1hX1-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2AFLM\",\"Button\":\"Searchbar_Button__2ABWy\",\"Label\":\"Searchbar_Label__3CpUG\"};"],"sourceRoot":""}